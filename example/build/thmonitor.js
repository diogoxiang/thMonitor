!function(e){var n={};function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=n,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)r.d(t,o,function(n){return e[n]}.bind(null,o));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="",r(r.s="./src/index.js")}({"./src/gather/error.js":
/*!*****************************!*\
  !*** ./src/gather/error.js ***!
  \*****************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n\nvar _index = __webpack_require__(/*! ../utils/index */ "./src/utils/index.js");\n\nvar _cache = __webpack_require__(/*! ../utils/cache */ "./src/utils/cache.js");\n\nvar _level = __webpack_require__(/*! ../utils/level */ "./src/utils/level.js");\n\nvar _level2 = _interopRequireDefault(_level);\n\nvar _info = __webpack_require__(/*! ../utils/info */ "./src/utils/info.js");\n\nvar _info2 = _interopRequireDefault(_info);\n\nvar _filter = __webpack_require__(/*! ../utils/filter */ "./src/utils/filter.js");\n\nvar _filter2 = _interopRequireDefault(_filter);\n\nvar _thinfo = __webpack_require__(/*! ../utils/thinfo */ "./src/utils/thinfo.js");\n\nvar _thinfo2 = _interopRequireDefault(_thinfo);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconsole.log(_thinfo2.default);\n\nvar config = {};\n\n/**\r\n * error \r\n * @param {*} e \r\n */\nfunction errorhandler(e) {\n    // debugger\n    if (!config.client || !config.imgUrl) {\n        return;\n    }\n    var errorObj = {};\n\n    if (e.target != window) {\n        // 这里一般都是资源引用错误 如404\n        // debugger\n        var copye = e;\n        e = e.target ? e.target : e.srcElement;\n        var out = e && e.outerHTML;\n        out && out.length > 200 && (out = out.slice(0, 200));\n        // debugger\n        errorObj = {\n            target: \'resourceError\',\n            type: copye.type || \'unknown\',\n            // 错误类型\n            errorInfo: \'resourceError = \' + copye.type,\n            errorDoc: encodeURIComponent(e.currentSrc || e.src), //加载错误的文件 URL\n            // ---\n            page: encodeURIComponent(location.href), // 当前页面\n            loadErrDoc: encodeURIComponent(location.href), //当前页面 URL\n            //--\n            loadErrMsg: encodeURIComponent(out),\n            tagName: e && e.tagName,\n            id: e.id || \'null\',\n            className: e.className || \'null\',\n            path: findPath(e),\n            selector: findSelector(e),\n            errorKey: encodeURIComponent(compressString(out, findPath(e)))\n        };\n    } else {\n        // 这里是script 错误\n        var ErrTypeReg = /Uncaught\\s(\\S*):/i;\n        var type = e.message.match(ErrTypeReg);\n        errorObj = {\n            target: \'scriptError\',\n            msg: e.message,\n            // 错误的信息\n            errorDetail: e.message,\n            errorInfo: \'scriptError==\' + type,\n            // 错误的文件名\n            errorDoc: encodeURIComponent(e.filename),\n            errorLin: e.lineno,\n            errorRow: e.colno,\n            stack: e.stack || (e.error ? e.error.stack : void 0),\n            page: encodeURIComponent(location.href), // 当前页面 \n            loadErrDoc: encodeURIComponent(location.href),\n            type: type && type[1],\n            errorKey: compressString(String(e.message), String(e.colno) + String(e.lineno))\n\n            // script Error 过滤错误级别 过滤错误次数\n        };if ((0, _filter2.default)(errorObj) || (0, _level2.default)(errorObj.msg, config.level) || (0, _cache.setItem)(errorObj.stack, config.repeat)) {\n            return;\n        }\n    }\n\n    var exportData = (0, _index.extend)({\n        client: config[\'client\'],\n        object: config[\'client\'], // 相应的项目\n        version: config[\'version\'],\n        key: +new Date() + \'@\' + randomString(8),\n        pageId: config[\'pageId\']\n    }, errorObj, _info2.default, _thinfo2.default);\n    // errorPost(`${config.imgUrl}`, JSON.stringify(exportData));\n    new Image().src = \'\' + config.imgUrl + (0, _index.stringfy)(exportData);\n}\n\n/**\r\n * compress string \r\n * @param {*} str \r\n * @param {*} key \r\n */\nfunction compressString(str, key) {\n    if (!str || !key) {\n        return \'null\';\n    }\n    var n = 0,\n        m = 0;\n    for (var i = 0; i < str.length; i++) {\n        n += str.charCodeAt();\n    }\n    for (var _i = 0; _i < key.length; _i++) {\n        m += str.charCodeAt();\n    }\n    var num = n + key[key.length - 1] + m + str[str.length - 1];\n    return num;\n}\n\n/**\r\n * 随机 string \r\n * @param {*} len \r\n */\nfunction randomString(len) {\n    len = len || 32;\n    var chars = \'ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678\';\n    var maxPos = chars.length;\n    var pwd = \'\';\n    for (var i = 0; i < len; i++) {\n        pwd += chars.charAt(Math.floor(Math.random() * maxPos));\n    }\n    return pwd;\n}\n\n/**\r\n * 错误监听\r\n * \r\n * @param {*} co \r\n */\nfunction error(co) {\n    config = co;\n    var storage = window._error_storage_;\n    if (storage.length > 0) {\n        storage.map(function (item, index) {\n            return errorhandler(storage[index][0]);\n        });\n    }\n    window.addEventListener && window.addEventListener("error", errorhandler, true);\n}\n\nwindow.onerror = error;\n\n// find path\nfunction findPath(e) {\n    var arr = void 0;\n    for (arr = []; e && e.nodeType == Node.ELEMENT_NODE; e = e.parentNode) {\n        var node = void 0,\n            index = 0,\n            isfind = false;\n        for (node = e.previousSibling; node; node = node.previousSibling) {\n            node.nodeType != Node.DOCUMENT_TYPE_NODE && node.nodeName == e.nodeName && ++index;\n        }for (node = e.nextSibling; node && !isfind; node = node.nextSibling) {\n            node.nodeName == e.nodeName && (isfind = true);\n        }var name = (e.prefix ? e.prefix + ":" : "") + e.localName,\n            local = index || isfind ? "[" + (index + 1) + "]" : "";\n        arr.splice(0, 0, name + local);\n    }\n    return arr.length ? "/" + arr.join("/") : null;\n}\n\n// find selector\nfunction findSelector(e) {\n    var arr = void 0;\n    for (arr = []; e.parentNode;) {\n        if (e.id) {\n            arr.unshift("#" + e.id);\n            break;\n        }\n        if (e == e.ownerDocument.documentElement) arr.unshift(e.tagName);else {\n            var index = 1;\n            for (var node = e; node.previousElementSibling; node = node.previousElementSibling, index++) {}\n            arr.unshift(e.tagName + ":nth-child(" + index + ")");\n        }\n        e = e.parentNode;\n    }\n    return arr.join(" > ");\n}\n\nexports.default = error;\n\n//# sourceURL=webpack:///./src/gather/error.js?')},"./src/gather/useragent.js":
/*!*********************************!*\
  !*** ./src/gather/useragent.js ***!
  \*********************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n/**\r\n * 获取sr 与 dp\r\n */\nfunction userAgent() {\n    return {\n        sr: window.screen.height + "x" + window.screen.width,\n        dp: window.devicePixelRatio\n    };\n}\n\nexports.default = userAgent;\n\n//# sourceURL=webpack:///./src/gather/useragent.js?')},"./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval("\n\nvar _error = __webpack_require__(/*! ./gather/error */ \"./src/gather/error.js\");\n\nvar _error2 = _interopRequireDefault(_error);\n\nvar _index = __webpack_require__(/*! ./utils/index */ \"./src/utils/index.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar config = {\n    client: '',\n    imgUrl: '',\n    level: '0',\n    repeat: '5', // 重复上报次数(对于同一个 js错误超过多少次不上报),\n    version: '0.0.1'\n};\n\nconfig = (0, _index.extend)(config, window['ERROR_CONFIG']);\n(0, _error2.default)(config);\n\n//# sourceURL=webpack:///./src/index.js?")},"./src/utils/cache.js":
/*!****************************!*\
  !*** ./src/utils/cache.js ***!
  \****************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.has = has;\nexports.getItem = getItem;\nexports.setItem = setItem;\nexports.removeItem = removeItem;\nexports.clear = clear;\nvar KEY = 'FE_TIMING';\nvar localStorage = window.localStorage;\nvar TIMES = 6; // 缓存条数\nvar EXPIRATION_TIME = 1000 * 60 * 24; // 过期时间\nvar storeStorage = void 0;\n\nfunction store() {\n    try {\n        if (!storeStorage) {\n            storeStorage = JSON.parse(localStorage.getItem(KEY) || '{}');\n        } else {\n            localStorage.setItem(KEY, JSON.stringify(storeStorage));\n        }\n    } catch (e) {\n        console.log(e);\n    }\n}\n\nstore();\n\nfunction has(key) {\n    return Object.hasOwnProperty.call(storeStorage, key);\n}\n\nfunction getItem(key) {\n    if (!has(key)) {\n        return false;\n    }\n\n    var _ref = storeStorage[key] || {},\n        value = _ref.value,\n        time = _ref.time;\n\n    return value;\n}\n\nfunction setItem(key, repeat) {\n    if (Object.keys(storeStorage).length >= TIMES) {\n        clear();\n    }\n    if (has(key)) {\n        var value = getItem(key);\n\n        if (value >= repeat) {\n            return true;\n        }\n        storeStorage[key] = {\n            value: value + 1,\n            time: Date.now()\n        };\n    } else {\n        storeStorage[key] = {\n            value: 1,\n            time: Date.now()\n        };\n    }\n    store();\n    return false;\n}\n\nfunction removeItem(key) {\n    if (has(key)) {\n        delete storeStorage[key];\n        store();\n    }\n}\n\nfunction clear() {\n    var expiration = false;\n    var current = null;\n    var times = Number.MAX_SAFE_INTEGER;\n    for (var item in storeStorage) {\n        var _ref2 = storeStorage[item] || {},\n            value = _ref2.value,\n            time = _ref2.time;\n\n        if (new Date() - time > EXPIRATION_TIME) {\n            removeItem(item);\n            expiration = true;\n        }\n        if (+time < times) {\n            times = value;\n            current = item;\n        }\n    }\n    // 如果已经清理了过期时间，则有空位，不需要再次清理\n    if (expiration) {\n        return;\n    }\n    removeItem(current);\n}\n\n//# sourceURL=webpack:///./src/utils/cache.js?")},"./src/utils/filter.js":
/*!*****************************!*\
  !*** ./src/utils/filter.js ***!
  \*****************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\nfunction filter(e) {\n    if (e.url === e.pageUrl && e.line === 1) {\n        return true;\n    }\n    return false;\n}\n\nexports.default = filter;\n\n//# sourceURL=webpack:///./src/utils/filter.js?')},"./src/utils/index.js":
/*!****************************!*\
  !*** ./src/utils/index.js ***!
  \****************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };\n\n/**\r\n * http  report\r\n */\nfunction errorPost(url, data) {\n    var http = new XMLHttpRequest();\n    http.open("POST", url, !0), http.setRequestHeader("Content-Type", "text/plain"), http.send(data);\n}\n\n/**\r\n *  \r\n * @param {*} obj \r\n */\nfunction stringfy(obj) {\n    if (!obj || (typeof obj === "undefined" ? "undefined" : _typeof(obj)) !== \'object\') {\n        return;\n    }\n    var arr = Object.keys(obj).map(function (item) {\n        return item + \'=\' + obj[item];\n    });\n    return arr.join(\'&\');\n}\n\n/**\r\n * 扩展\r\n */\nfunction extend(src) {\n    var arg = arguments;\n    if (arg.length >= 2) {\n        for (var i = 1, len = arg.length; i < len; i++) {\n            for (var key in arg[i]) {\n                src[key] = arg[i][key];\n            }\n        }\n    }\n    return src;\n}\n\nexports.errorPost = errorPost;\nexports.stringfy = stringfy;\nexports.extend = extend;\n\n//# sourceURL=webpack:///./src/utils/index.js?')},"./src/utils/info.js":
/*!***************************!*\
  !*** ./src/utils/info.js ***!
  \***************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _useragent = __webpack_require__(/*! ../gather/useragent */ \"./src/gather/useragent.js\");\n\nvar _useragent2 = _interopRequireDefault(_useragent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// 获取基本信息\nvar info = function () {\n  var system = '',\n      // 系统版本\n  mobile = '',\n      // 机型\n  ua = navigator.userAgent,\n      //用户代理\n  protocol = '',\n      //协议(HTTP/HTTPS)\n  network = ''; //网络\n\n  var logMsg = 'Unknown';\n  //设备检测\n  var ipod = ua.match(/(ipod).*\\s([\\d_]+)/i),\n      ipad = ua.match(/(ipad).*\\s([\\d_]+)/i),\n      iphone = ua.match(/(iphone)\\sos\\s([\\d_]+)/i),\n      android = ua.match(/(Android\\s\\S*)(\\szh-cn;|\\szh-CN;)?\\s?((\\S*)\\s(\\S*\\s\\S*)|(\\w*)-(\\w*)|(\\S*)\\s(\\S*))\\sBuild/i);\n\n  if (android && android.length > 2) {\n    logMsg = android[1].replace(';', '') + ',' + android[3];\n  } else if (iphone) {\n    logMsg = 'iPhone,iOS ' + iphone[2].replace(/_/g, '.');\n  } else if (ipad) {\n    logMsg = 'iPad,iOS ' + ipad[2].replace(/_/g, '.');\n  } else if (ipod) {\n    logMsg = 'iPod,iOS ' + ipod[2].replace(/_/g, '.');\n  }\n\n  var logList = logMsg.split(',');\n  system = logList[0];\n  mobile = logList[1];\n\n  logMsg = 'Unknown';\n  if (location.protocol == 'https:') {\n    logMsg = 'HTTPS';\n  } else if (location.protocol == 'http:') {\n    logMsg = 'HTTP';\n  } else {\n    logMsg = location.protocol.replace(':', '');\n  }\n  var templogMsg = logMsg;\n\n  network = ua.toLowerCase().match(/ nettype\\/([^ ]+)/g);\n  logMsg = 'Unknown';\n  if (network && network[0]) {\n    network = network[0].split('/');\n    logMsg = network[1];\n    templogMsg += ', ' + logMsg;\n    network = templogMsg;\n  } else {\n    protocol = templogMsg;\n  }\n\n  // 获取微信版本\n  var $wechatVersion = void 0;\n  try {\n    $wechatVersion = ua.toLowerCase().match(/MicroMessenger\\/([\\d\\.]+)/i);\n    $wechatVersion = $wechatVersion[1];\n  } catch (error) {}\n\n  //操作时间\n  var time = new Date().toISOString();\n  //分辨率\n  var $resolution = (0, _useragent2.default)().sr + '-' + (0, _useragent2.default)().dp;\n  return {\n    sysVersion: system,\n    tetType: mobile,\n    ua: ua,\n    wechatVersion: $wechatVersion,\n    protocol: protocol,\n    resolution: $resolution,\n    netType: network,\n    operationTime: time\n  };\n}();\n\nexports.default = info;\n\n//# sourceURL=webpack:///./src/utils/info.js?")},"./src/utils/level.js":
/*!****************************!*\
  !*** ./src/utils/level.js ***!
  \****************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\nvar REG_WARN = /^(warn|warning)/i;\n\nfunction setGrade(error, level) {\n    if (level === 0) {\n        if (REG_WARN.exec(error)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nexports.default = setGrade;\n\n//# sourceURL=webpack:///./src/utils/level.js?')},"./src/utils/thinfo.js":
/*!*****************************!*\
  !*** ./src/utils/thinfo.js ***!
  \*****************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n/**\r\n * 这里公司一些项目的参数获取\r\n */\nvar project = window.localStorage.getItem(\'project\');\nvar wxLogin = window.localStorage.getItem(project + "wxLogin");\n\ntry {\n    wxLogin = JSON.parse(wxLogin);\n} catch (error) {}\n\nvar userinfo = {\n    userToken: wxLogin.userToken,\n    barData: window.sessionStorage.getItem(project + "barcodeData")\n};\n\nexports.default = userinfo;\n\n//# sourceURL=webpack:///./src/utils/thinfo.js?')}});
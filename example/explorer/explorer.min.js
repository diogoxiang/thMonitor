!function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=0)}([function(e,r,t){"use strict";(function(e){Object.defineProperty(r,"__esModule",{value:!0});var t=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}();var n=function(){function r(){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),this.config={jsError:!0,resourceError:!0,ajaxError:!0,consoleError:!1,scriptError:!1,vue:!0,autoReport:!0,filters:[],levels:["info","warning","error"],category:["js","resource","ajax"]},this._window="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},this.addEventListener=this._window.addEventListener||this._window.attachEvent}return t(r,[{key:"isFunction",value:function(e){return"function"==typeof e}},{key:"start",value:function(e){if(e)for(var r in e)this.config[r]=e[r];this.config.scriptError||this.config.filters.push(function(){return/^Script error\.?$/.test(arguments[0])}),this.config.jsError&&this.handleWindowError(this._window,this.config),this.config.jsError&&this.handleRejectPromise(this._window,this.config),this.config.resourceError&&addEventListener&&this.handleResourceError(this._window,this.config),this.config.ajaxError&&this.handleAjaxError(this._window,this.config),this.config.consoleError&&this.handleConsoleError(this._window,this.config),this.config.vue&&this.handleVueError(this._window,this.config)}},{key:"handleWindowError",value:function(e,r){var t=e.onerror;e.onerror=function(e,n,o,i,s){s&&s.stack?r.sendError({title:e,msg:s.stack,category:"js",level:"error",line:o,col:i}):"string"==typeof e&&r.sendError({title:e,msg:JSON.stringify({resourceUrl:n,line:o,col:i}),category:"js",level:"error"}),t&&isFunction(t)&&windowError&&windowError.apply(window,arguments)}}},{key:"handleRejectPromise",value:function(e,r){e.addEventListener("unhandledrejection",function(e){if(e){var t=e.reason;r.sendError({title:"unhandledrejection",msg:t,category:"js",level:"error"})}},!0)}},{key:"handleResourceError",value:function(e,r){e.addEventListener("error",function(e){if(e){var t=e.target||e.srcElement;if(!(t instanceof HTMLScriptElement||t instanceof HTMLLinkElement||t instanceof HTMLImageElement))return;var n=t.src||t.href;r.sendError({title:t.nodeName,msg:n,category:"resource",level:"error"})}},!0)}},{key:"_handleFetchError",value:function(e,r){if(e.fetch){var t=e.fetch;e.fetch=function(){var e=arguments;return t.apply(this,arguments).then(function(t){return t.ok||r.sendError({title:e[0],msg:JSON.stringify(t),category:"fetch",level:"error"}),t}).catch(function(t){throw r.sendError({title:e[0],msg:JSON.stringify({message:t.message,stack:t.stack}),category:"fetch",level:"error"}),t})}}}},{key:"handleAjaxError",value:function(e,r){if("file:"!==e.location.protocol&&(this._handleFetchError(e,r),e.XMLHttpRequest)){var t=e.XMLHttpRequest,n=t.prototype.send,o=function(e){e&&e.currentTarget&&200!==e.currentTarget.status&&r.sendError({title:e.target.responseURL,msg:JSON.stringify({response:e.target.response,responseURL:e.target.responseURL,status:e.target.status,statusText:e.target.statusText}),category:"ajax",level:"error"})};t.prototype.send=function(){if(this.addEventListener)this.addEventListener("error",o),this.addEventListener("load",o),this.addEventListener("abort",o);else{var e=this.onreadystatechange;this.onreadystatechange=function(r){4===this.readyState&&o(r),e&&e.apply(this,arguments)}}return n.apply(this,arguments)}}}},{key:"handleConsoleError",value:function(e,r){if(e.console&&e.console.error){var t=e.console.error;e.console.error=function(){r.sendError({title:"consoleError",msg:JSON.stringify(arguments.join(",")),category:"js",level:"error"}),t&&t.apply(e,arguments)}}}},{key:"handleVueError",value:function(e,r){var t=e.Vue;if(t&&t.config){var n=t.config.errorHandler;Vue.config.errorHandler=function(e,t,o){var i={};"[object Object]"===Object.prototype.toString.call(t)&&(i.componentName=t._isVue?t.$options.name||t.$options._componentTag:t.name,i.propsData=t.$options.propsData),r.sendError({title:"vue Error",msg:i+o,category:"js",level:"error"}),n&&isFunction(n)&&_oldOnError.call(this,e,t,o)}}}}]),r}();r.default=new n}).call(this,t(1))},function(e,r){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(e){"object"==typeof window&&(t=window)}e.exports=t}]);